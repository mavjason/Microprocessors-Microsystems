LXI B,03E8H ;1000=03E8 MS 
START1:
MVI E,00H ;аявийопоиы летягтг
MVI A,FFH
STA 3000H ;елжамифы то 0
CALL DELB

;дем йяаты поухема тгм йатеухумсг тгс йимгсгс, диадовийа 
;паы памы йаи йаты сумевыс 

UP:
CALL READING ;диабафы диайоптес
INR E  ;летягсг амы
MOV A,E
CMP D ;ам евы жтасеи стгм тилг поу хекы паы се летягсг йаты 
JNC DOWN1  ;аккиыс елжамифы тгм тилг й йатопим сумевифы амы
CMA
STA 3000H
CALL DELB
JMP UP

DOWN1:
MOV A,E  ;елжамифы тгм тилг поу дем еиве пяокабеи ма елжамистеи йата
CMA      ;тг летягсг амы
STA 3000H
CALL DELB
DOWN2:
CALL READING
DCR E    ;летягсг йаты
MOV A,E
CPI 00H  ;отам жтасы сто 0 нейимы летягсг амы паки
JZ START1
CMA      ;аккиыс елжамифы
STA 3000H
CALL DELB
JMP DOWN2

;екецвос циа ийамопоигсг сумхгйгс йаи
;епистяожг лесы тоу йатавыягтг D тоу аяихлоу поу диметаи ста лSB

READING:
START2:
LDA 2000H   ;ам LSB=0 дем йамы типота
RRC
JNC START2
RRC
RRC
RRC
ANI 0FH
MOV D,A ; D йяата тгм тилг поу диметаи апо тоус диайоптес
CPI 00H ; ам D=0 нейима апо тгм аявг
JZ START1
RET

END